<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.58.3" />
    <meta name="description" content="MLOps: Operationalizing Machine Learning">
<meta name="author" content="Theja Tulabandhula">

    <link rel="shortcut icon" href="/MLOps/images/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" sizes="180x180" href="/MLOps/images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/MLOps/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/MLOps/images/favicon-16x16.png">
<link rel="manifest" href="/MLOps/images/site.webmanifest">
    <title>Model Serving using Kubernetes :: MLOps: Operationalizing Machine Learning</title>

    
    <link href="/MLOps/css/nucleus.css" rel="stylesheet">
    <link href="/MLOps/css/fontawesome-all.min.css" rel="stylesheet">
    <link href="/MLOps/css/hybrid.css" rel="stylesheet">
    <link href="/MLOps/css/featherlight.min.css" rel="stylesheet">
    <link href="/MLOps/css/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="/MLOps/css/auto-complete.css" rel="stylesheet">
    <link href="/MLOps/css/atom-one-dark-reasonable.css" rel="stylesheet">
    <link href="/MLOps/css/theme.css" rel="stylesheet">
    <link href="/MLOps/css/hugo-theme.css" rel="stylesheet">
    
      <link href="/MLOps/css/theme-blue.css" rel="stylesheet">
    

    <script src="/MLOps/js/jquery-3.3.1.min.js"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/MLOps/lecture4/modelkube/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a href="/MLOps/"> <img src="/MLOps/images/logo.png" alt="MLOps"></a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/MLOps/js/lunr.min.js"></script>
<script type="text/javascript" src="/MLOps/js/auto-complete.js"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/chicagodatascience.github.io\/MLOps\/";
    
</script>
<script type="text/javascript" src="/MLOps/js/search.js"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/MLOps/logistics/" title="Course Logistics" class="dd-item 
        
        
        
        ">
      <a href="/MLOps/logistics/">
          <b> </b>Course Logistics
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/MLOps/logistics/online_technology_requirements/" title="Online Learning Details" class="dd-item ">
        <a href="/MLOps/logistics/online_technology_requirements/">
        Online Learning Details
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/logistics/schedule/" title="Schedule" class="dd-item ">
        <a href="/MLOps/logistics/schedule/">
        <b> </b>Schedule
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/logistics/project_instructions/" title="Project" class="dd-item ">
        <a href="/MLOps/logistics/project_instructions/">
        <b> </b>Project
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/MLOps/lecture1/" title="Lecture 1" class="dd-item 
        
        
        
        ">
      <a href="/MLOps/lecture1/">
          <b> </b>Lecture 1
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture1/intro/" title="Basics" class="dd-item ">
        <a href="/MLOps/lecture1/intro/">
        <b> 1. </b>Basics
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture1/ssh_and_firewall/" title="SSH and Firewall" class="dd-item ">
        <a href="/MLOps/lecture1/ssh_and_firewall/">
        <b> 2. </b>SSH and Firewall
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture1/conda/" title="Setting up Python" class="dd-item ">
        <a href="/MLOps/lecture1/conda/">
        <b> 3. </b>Setting up Python
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture1/jupyter/" title="Remote Jupyter Server" class="dd-item ">
        <a href="/MLOps/lecture1/jupyter/">
        <b> 4. </b>Remote Jupyter Server
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/MLOps/lecture1/recommendation_model/" title="Recommendation Models" class="dd-item 
        
        
        
        ">
      <a href="/MLOps/lecture1/recommendation_model/">
          <b>5. </b>Recommendation Models
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture1/recommendation_model/surprise_training/" title="Recommendation (SVD) Training" class="dd-item ">
        <a href="/MLOps/lecture1/recommendation_model/surprise_training/">
        <b> </b>Recommendation (SVD) Training
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture1/recommendation_model/surprise_inference/" title="Recommendation (SVD) Inference" class="dd-item ">
        <a href="/MLOps/lecture1/recommendation_model/surprise_inference/">
        <b> </b>Recommendation (SVD) Inference
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture1/recommendation_model/pytorch_training/" title="Recommendation (Pytorch) Training" class="dd-item ">
        <a href="/MLOps/lecture1/recommendation_model/pytorch_training/">
        <b> </b>Recommendation (Pytorch) Training
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture1/recommendation_model/pytorch_inference/" title="Recommendation (Pytorch) Inference" class="dd-item ">
        <a href="/MLOps/lecture1/recommendation_model/pytorch_inference/">
        <b> </b>Recommendation (Pytorch) Inference
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture1/deploy_webserver/" title="Serving ML Models Using Web Servers" class="dd-item ">
        <a href="/MLOps/lecture1/deploy_webserver/">
        <b> 6. </b>Serving ML Models Using Web Servers
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture1/flask/" title="Flask App" class="dd-item ">
        <a href="/MLOps/lecture1/flask/">
        <b> 7. </b>Flask App
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture1/exercises/" title="Exercises" class="dd-item ">
        <a href="/MLOps/lecture1/exercises/">
        <b> </b>Exercises
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/MLOps/lecture2/" title="Lecture 2" class="dd-item 
        
        
        
        ">
      <a href="/MLOps/lecture2/">
          <b> </b>Lecture 2
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture2/serverless/" title="Serverless Deployments" class="dd-item ">
        <a href="/MLOps/lecture2/serverless/">
        <b>1. </b>Serverless Deployments
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture2/cloud_functions/" title="Cloud Functions" class="dd-item ">
        <a href="/MLOps/lecture2/cloud_functions/">
        <b>2. </b>Cloud Functions
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture2/cloud_functions_model/" title="GCP Serverless Model Serving" class="dd-item ">
        <a href="/MLOps/lecture2/cloud_functions_model/">
        <b>3. </b>GCP Serverless Model Serving
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture2/lambda_functions/" title="Lambda Functions" class="dd-item ">
        <a href="/MLOps/lecture2/lambda_functions/">
        <b>4. </b>Lambda Functions
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture2/lambda_functions_model/" title="AWS Serverless Model Serving" class="dd-item ">
        <a href="/MLOps/lecture2/lambda_functions_model/">
        <b>5. </b>AWS Serverless Model Serving
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture2/exercises/" title="Exercises" class="dd-item ">
        <a href="/MLOps/lecture2/exercises/">
        <b> </b>Exercises
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/MLOps/lecture3/" title="Lecture 3" class="dd-item 
        
        
        
        ">
      <a href="/MLOps/lecture3/">
          <b> </b>Lecture 3
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture3/intro/" title="Introduction" class="dd-item ">
        <a href="/MLOps/lecture3/intro/">
        <b>1. </b>Introduction
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture3/docker/" title="Docker" class="dd-item ">
        <a href="/MLOps/lecture3/docker/">
        <b>2. </b>Docker
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture3/ecr/" title="Orchestration using ECS and ECR - Part I" class="dd-item ">
        <a href="/MLOps/lecture3/ecr/">
        <b>3. </b>Orchestration using ECS and ECR - Part I
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture3/ecs/" title="Orchestration using ECS and ECR - Part II" class="dd-item ">
        <a href="/MLOps/lecture3/ecs/">
        <b>4. </b>Orchestration using ECS and ECR - Part II
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture3/exercises/" title="Exercises" class="dd-item ">
        <a href="/MLOps/lecture3/exercises/">
        <b> </b>Exercises
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/MLOps/lecture4/" title="Lecture 4" class="dd-item 
        parent
        
        
        ">
      <a href="/MLOps/lecture4/">
          <b> </b>Lecture 4
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture4/kubernetes/" title="Kubernetes" class="dd-item ">
        <a href="/MLOps/lecture4/kubernetes/">
        <b>1. </b>Kubernetes
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture4/modelkube/" title="Model Serving using Kubernetes" class="dd-item active">
        <a href="/MLOps/lecture4/modelkube/">
        <b>2. </b>Model Serving using Kubernetes
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture4/gke/" title="Orchestration using GKE" class="dd-item ">
        <a href="/MLOps/lecture4/gke/">
        <b>3. </b>Orchestration using GKE
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture4/exercises/" title="Exercises" class="dd-item ">
        <a href="/MLOps/lecture4/exercises/">
        <b> </b>Exercises
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/MLOps/lecture5/" title="Lecture 5" class="dd-item 
        
        
        
        ">
      <a href="/MLOps/lecture5/">
          <b> </b>Lecture 5
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture5/workflow/" title="Data Science Workflows" class="dd-item ">
        <a href="/MLOps/lecture5/workflow/">
        <b>1. </b>Data Science Workflows
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture5/simple_pipeline/" title="Training Workflows" class="dd-item ">
        <a href="/MLOps/lecture5/simple_pipeline/">
        <b>2. </b>Training Workflows
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture5/cron/" title="Cron Jobs" class="dd-item ">
        <a href="/MLOps/lecture5/cron/">
        <b>3. </b>Cron Jobs
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture5/airflow/" title="Apache Airflow" class="dd-item ">
        <a href="/MLOps/lecture5/airflow/">
        <b>4. </b>Apache Airflow
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/MLOps/lecture5/exercises/" title="Exercises" class="dd-item ">
        <a href="/MLOps/lecture5/exercises/">
        <b> </b>Exercises
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/MLOps/lecture6/" title="Lecture 6" class="dd-item 
        
        
        
        ">
      <a href="/MLOps/lecture6/">
          <b> </b>Lecture 6
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/MLOps/lecture7/" title="Lecture 7" class="dd-item 
        
        
        
        ">
      <a href="/MLOps/lecture7/">
          <b> </b>Lecture 7
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/MLOps/lecture8/" title="Lecture 8" class="dd-item 
        
        
        
        ">
      <a href="/MLOps/lecture8/">
          <b> </b>Lecture 8
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    <section id="footer">
      



<i class='fab fa-fw fa-github'></i> <a href="https://github.com/chicagodatascience/MLOps/"> GitHub repo</a>
    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                   Model Serving using Kubernetes 
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">

    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Model Serving using Kubernetes
            </h1>
          

        



<p>This time, instead of the weather app, we will deploy a container containing our recommendation model. Here are the steps.</p>

<ul>
<li><p>Lets start minicube</p>

<pre><code class="language-bash">(datasci-dev) ttmac:docker-prediction-service theja$ minikube start
üòÑ  minikube v1.13.0 on Darwin 10.14.6
‚ñ™ MINIKUBE_ACTIVE_DOCKERD=minikube
‚ú®  Using the hyperkit driver based on existing profile
üëç  Starting control plane node minikube in cluster minikube
üîÑ  Restarting existing hyperkit VM for &quot;minikube&quot; ...
üê≥  Preparing Kubernetes v1.19.0 on Docker 19.03.12 ...
üîé  Verifying Kubernetes components...
üåü  Enabled addons: default-storageclass, storage-provisioner
üèÑ  Done! kubectl is now configured to use &quot;minikube&quot; by default
</code></pre></li>

<li><p>Ensure that docker can see minicube specific registry</p>

<pre><code class="language-bash">(datasci-dev) ttmac:docker-prediction-service theja$ minikube docker-env
export DOCKER_TLS_VERIFY=&quot;1&quot;
export DOCKER_HOST=&quot;tcp://192.168.64.2:2376&quot;
export DOCKER_CERT_PATH=&quot;/Users/theja/.minikube/certs&quot;
export MINIKUBE_ACTIVE_DOCKERD=&quot;minikube&quot;

# To point your shell to minikube's docker-daemon, run:
# eval $(minikube -p minikube docker-env)
(datasci-dev) ttmac:docker-prediction-service theja$ eval $(minikube -p minikube docker-env)
</code></pre></li>

<li><p>Go to the directory containing the trained model that we created before. The directory should have</p>

<ul>
<li>a Dockerfile to build an image,</li>
<li>the pytorch_model for recommendations,</li>
<li>movies.dat metadata, and</li>
<li>recommend.py flask app.</li>
</ul></li>

<li><p>Once there, build an image. This image will be registered with minikube&rsquo;s registry.</p>

<pre><code class="language-bash">(datasci-dev) ttmac:docker-prediction-service theja$ docker build -t prediction-service-k8s .
Sending build context to Docker daemon  304.6kB
Step 1/8 : FROM continuumio/miniconda3:latest
latest: Pulling from continuumio/miniconda3
68ced04f60ab: Pull complete
9c388eb6d33c: Pull complete
96cf53b3a9dd: Pull complete
Digest: sha256:456e3196bf3ffb13fee7c9216db4b18b5e6f4d37090b31df3e0309926e98cfe2
Status: Downloaded newer image for continuumio/miniconda3:latest
---&gt; b4adc22212f1
Step 2/8 : MAINTAINER Theja Tulabandhula
---&gt; Running in 9b4a3708a4f6
Removing intermediate container 9b4a3708a4f6
---&gt; 2ebbbd14e3d3
Step 3/8 : RUN conda install -y flask pandas  &amp;&amp; conda install -c conda-forge scikit-surprise  &amp;&amp; conda install pytorch torchvision cpuonly -c pytorch
---&gt; Running in 0ce30dc6b5a6
Collecting package metadata (current_repodata.json): ...working... done
Solving environment: ...working... done

## Package Plan ##

environment location: /opt/conda

added / updated specs:
- flask
- pandas


The following packages will be downloaded:

package                    |            build
---------------------------|-----------------
blas-1.0                   |              mkl           6 KB
ca-certificates-2020.7.22  |                0         125 KB
certifi-2020.6.20          |           py37_0         156 KB
click-7.1.2                |             py_0          71 KB
conda-4.8.4                |           py37_0         2.9 MB
flask-1.1.2                |             py_0          78 KB
intel-openmp-2020.2        |              254         786 KB
itsdangerous-1.1.0         |           py37_0          28 KB
jinja2-2.11.2              |             py_0         103 KB
markupsafe-1.1.1           |   py37h14c3975_1          26 KB
mkl-2020.2                 |              256       138.3 MB
mkl-service-2.3.0          |   py37he904b0f_0         218 KB
mkl_fft-1.1.0              |   py37h23d657b_0         143 KB
mkl_random-1.1.1           |   py37h0573a6f_0         322 KB
numpy-1.19.1               |   py37hbc911f0_0          21 KB
numpy-base-1.19.1          |   py37hfa32c7d_0         4.1 MB
openssl-1.1.1g             |       h7b6447c_0         2.5 MB
pandas-1.1.1               |   py37he6710b0_0         8.2 MB
python-dateutil-2.8.1      |             py_0         215 KB
pytz-2020.1                |             py_0         184 KB
werkzeug-1.0.1             |             py_0         240 KB
------------------------------------------------------------
                                       Total:       158.6 MB

The following NEW packages will be INSTALLED:

blas               pkgs/main/linux-64::blas-1.0-mkl
click              pkgs/main/noarch::click-7.1.2-py_0
flask              pkgs/main/noarch::flask-1.1.2-py_0
intel-openmp       pkgs/main/linux-64::intel-openmp-2020.2-254
itsdangerous       pkgs/main/linux-64::itsdangerous-1.1.0-py37_0
jinja2             pkgs/main/noarch::jinja2-2.11.2-py_0
markupsafe         pkgs/main/linux-64::markupsafe-1.1.1-py37h14c3975_1
mkl                pkgs/main/linux-64::mkl-2020.2-256
mkl-service        pkgs/main/linux-64::mkl-service-2.3.0-py37he904b0f_0
mkl_fft            pkgs/main/linux-64::mkl_fft-1.1.0-py37h23d657b_0
mkl_random         pkgs/main/linux-64::mkl_random-1.1.1-py37h0573a6f_0
numpy              pkgs/main/linux-64::numpy-1.19.1-py37hbc911f0_0
numpy-base         pkgs/main/linux-64::numpy-base-1.19.1-py37hfa32c7d_0
pandas             pkgs/main/linux-64::pandas-1.1.1-py37he6710b0_0
python-dateutil    pkgs/main/noarch::python-dateutil-2.8.1-py_0
pytz               pkgs/main/noarch::pytz-2020.1-py_0
werkzeug           pkgs/main/noarch::werkzeug-1.0.1-py_0

The following packages will be UPDATED:

ca-certificates                                2020.1.1-0 --&gt; 2020.7.22-0
certifi                                 2019.11.28-py37_0 --&gt; 2020.6.20-py37_0
conda                                        4.8.2-py37_0 --&gt; 4.8.4-py37_0
openssl                                 1.1.1d-h7b6447c_4 --&gt; 1.1.1g-h7b6447c_0



Downloading and Extracting Packages
blas-1.0             | 6 KB      | ########## | 100%
flask-1.1.2          | 78 KB     | ########## | 100%
certifi-2020.6.20    | 156 KB    | ########## | 100%
markupsafe-1.1.1     | 26 KB     | ########## | 100%
numpy-base-1.19.1    | 4.1 MB    | ########## | 100%
pytz-2020.1          | 184 KB    | ########## | 100%
python-dateutil-2.8. | 215 KB    | ########## | 100%
itsdangerous-1.1.0   | 28 KB     | ########## | 100%
openssl-1.1.1g       | 2.5 MB    | ########## | 100%
click-7.1.2          | 71 KB     | ########## | 100%
conda-4.8.4          | 2.9 MB    | ########## | 100%
mkl-service-2.3.0    | 218 KB    | ########## | 100%
werkzeug-1.0.1       | 240 KB    | ########## | 100%
pandas-1.1.1         | 8.2 MB    | ########## | 100%
mkl_fft-1.1.0        | 143 KB    | ########## | 100%
mkl-2020.2           | 138.3 MB  | ########## | 100%
mkl_random-1.1.1     | 322 KB    | ########## | 100%
jinja2-2.11.2        | 103 KB    | ########## | 100%
intel-openmp-2020.2  | 786 KB    | ########## | 100%
ca-certificates-2020 | 125 KB    | ########## | 100%
numpy-1.19.1         | 21 KB     | ########## | 100%
Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
Collecting package metadata (current_repodata.json): ...working... done
Solving environment: ...working... done

## Package Plan ##

environment location: /opt/conda

added / updated specs:
- scikit-surprise


The following packages will be downloaded:

package                    |            build
---------------------------|-----------------
ca-certificates-2020.6.20  |       hecda079_0         145 KB  conda-forge
certifi-2020.6.20          |   py37hc8dfbb8_0         151 KB  conda-forge
conda-4.8.5                |   py37hc8dfbb8_1         3.0 MB  conda-forge
joblib-0.16.0              |             py_0         203 KB  conda-forge
openssl-1.1.1g             |       h516909a_1         2.1 MB  conda-forge
python_abi-3.7             |          1_cp37m           4 KB  conda-forge
scikit-surprise-1.1.1      |   py37h03ebfcd_0         591 KB  conda-forge
------------------------------------------------------------
                                       Total:         6.2 MB

The following NEW packages will be INSTALLED:

joblib             conda-forge/noarch::joblib-0.16.0-py_0
python_abi         conda-forge/linux-64::python_abi-3.7-1_cp37m
scikit-surprise    conda-forge/linux-64::scikit-surprise-1.1.1-py37h03ebfcd_0

The following packages will be UPDATED:

conda                       pkgs/main::conda-4.8.4-py37_0 --&gt; conda-forge::conda-4.8.5-py37hc8dfbb8_1
openssl              pkgs/main::openssl-1.1.1g-h7b6447c_0 --&gt; conda-forge::openssl-1.1.1g-h516909a_1

The following packages will be SUPERSEDED by a higher-priority channel:

ca-certificates    pkgs/main::ca-certificates-2020.7.22-0 --&gt; conda-forge::ca-certificates-2020.6.20-hecda079_0
certifi               pkgs/main::certifi-2020.6.20-py37_0 --&gt; conda-forge::certifi-2020.6.20-py37hc8dfbb8_0


Proceed ([y]/n)?

Downloading and Extracting Packages
ca-certificates-2020 | 145 KB    | ########## | 100%
conda-4.8.5          | 3.0 MB    | ########## | 100%
python_abi-3.7       | 4 KB      | ########## | 100%
certifi-2020.6.20    | 151 KB    | ########## | 100%
openssl-1.1.1g       | 2.1 MB    | ########## | 100%
scikit-surprise-1.1. | 591 KB    | ########## | 100%
joblib-0.16.0        | 203 KB    | ########## | 100%
Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
Collecting package metadata (current_repodata.json): ...working... done
Solving environment: ...working...

## Package Plan ##

environment location: /opt/conda

added / updated specs:
- cpuonly
- pytorch
- torchvision


The following packages will be downloaded:

package                    |            build
---------------------------|-----------------
cpuonly-1.0                |                0           2 KB  pytorch
freetype-2.10.2            |       h5ab3b9f_0         608 KB
jpeg-9b                    |       h024ee3a_2         214 KB
lcms2-2.11                 |       h396b838_0         307 KB
libpng-1.6.37              |       hbc83047_0         278 KB
libtiff-4.1.0              |       h2733197_0         447 KB
ninja-1.10.1               |   py37hfd86e86_0         1.4 MB
olefile-0.46               |           py37_0          50 KB
pillow-7.2.0               |   py37hb39fc2d_0         617 KB
pytorch-1.6.0              |      py3.7_cpu_0        59.4 MB  pytorch
tk-8.6.10                  |       hbc83047_0         3.0 MB
torchvision-0.7.0          |         py37_cpu        10.3 MB  pytorch
zstd-1.3.7                 |       h0b5b093_0         401 KB
------------------------------------------------------------
                                       Total:        76.9 MB

The following NEW packages will be INSTALLED:

cpuonly            pytorch/noarch::cpuonly-1.0-0
freetype           pkgs/main/linux-64::freetype-2.10.2-h5ab3b9f_0
jpeg               pkgs/main/linux-64::jpeg-9b-h024ee3a_2
lcms2              pkgs/main/linux-64::lcms2-2.11-h396b838_0
libpng             pkgs/main/linux-64::libpng-1.6.37-hbc83047_0
libtiff            pkgs/main/linux-64::libtiff-4.1.0-h2733197_0
ninja              pkgs/main/linux-64::ninja-1.10.1-py37hfd86e86_0
olefile            pkgs/main/linux-64::olefile-0.46-py37_0
pillow             pkgs/main/linux-64::pillow-7.2.0-py37hb39fc2d_0
pytorch            pytorch/linux-64::pytorch-1.6.0-py3.7_cpu_0
torchvision        pytorch/linux-64::torchvision-0.7.0-py37_cpu
zstd               pkgs/main/linux-64::zstd-1.3.7-h0b5b093_0

The following packages will be UPDATED:

ca-certificates    conda-forge::ca-certificates-2020.6.2~ --&gt; pkgs/main::ca-certificates-2020.7.22-0
tk                                       8.6.8-hbc83047_0 --&gt; 8.6.10-hbc83047_0

The following packages will be SUPERSEDED by a higher-priority channel:

certifi            conda-forge::certifi-2020.6.20-py37hc~ --&gt; pkgs/main::certifi-2020.6.20-py37_0


Proceed ([y]/n)?

Downloading and Extracting Packages
ninja-1.10.1         | 1.4 MB    | ########## | 100%
torchvision-0.7.0    | 10.3 MB   | ########## | 100%
jpeg-9b              | 214 KB    | ########## | 100%
olefile-0.46         | 50 KB     | ########## | 100%
pillow-7.2.0         | 617 KB    | ########## | 100%
pytorch-1.6.0        | 59.4 MB   | ########## | 100%
lcms2-2.11           | 307 KB    | ########## | 100%
cpuonly-1.0          | 2 KB      | ########## | 100%
freetype-2.10.2      | 608 KB    | ########## | 100%
libtiff-4.1.0        | 447 KB    | ########## | 100%
zstd-1.3.7           | 401 KB    | ########## | 100%
libpng-1.6.37        | 278 KB    | ########## | 100%
tk-8.6.10            | 3.0 MB    | ########## | 100%
Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
Removing intermediate container 0ce30dc6b5a6
---&gt; 4fafe65a6cf2
Step 4/8 : USER root
---&gt; Running in ad07655303d4
Removing intermediate container ad07655303d4
---&gt; 66a0f0bbdffd
Step 5/8 : WORKDIR /app
---&gt; Running in 15c4304a5210
Removing intermediate container 15c4304a5210
---&gt; 9e5ade99225b
Step 6/8 : ADD . /app
---&gt; 3af47f01d23f
Step 7/8 : EXPOSE 80
---&gt; Running in a9ecfc2e60e9
Removing intermediate container a9ecfc2e60e9
---&gt; 967dfa99debb
Step 8/8 : CMD [&quot;python&quot;, &quot;recommend.py&quot;]
---&gt; Running in 9d93ff09dfef
Removing intermediate container 9d93ff09dfef
---&gt; 0821856015d5
Successfully built 0821856015d5
Successfully tagged prediction-service-k8s:latest
</code></pre></li>

<li><p>Check that the image is present.</p>

<pre><code class="language-bash">(datasci-dev) ttmac:docker-prediction-service theja$ docker images
REPOSITORY                                TAG                 IMAGE ID            CREATED             SIZE
prediction-service-k8s                    latest              0821856015d5        43 seconds ago      2.06GB
weather-service-k8s/latest                latest              ae4f44a22535        22 hours ago        496MB
debian                                    buster-slim         052664ad4351        7 days ago          69.2MB
gcr.io/k8s-minikube/storage-provisioner   v3                  bad58561c4be        2 weeks ago         29.7MB
k8s.gcr.io/kube-proxy                     v1.19.0             bc9c328f379c        3 weeks ago         118MB
k8s.gcr.io/kube-controller-manager        v1.19.0             09d665d529d0        3 weeks ago         111MB
k8s.gcr.io/kube-apiserver                 v1.19.0             1b74e93ece2f        3 weeks ago         119MB
k8s.gcr.io/kube-scheduler                 v1.19.0             cbdc8369d8b1        3 weeks ago         45.7MB
k8s.gcr.io/etcd                           3.4.9-1             d4ca8726196c        2 months ago        253MB
kubernetesui/dashboard                    v2.0.3              503bc4b7440b        2 months ago        225MB
k8s.gcr.io/coredns                        1.7.0               bfe3a36ebd25        3 months ago        45.2MB
kubernetesui/metrics-scraper              v1.0.4              86262685d9ab        5 months ago        36.9MB
continuumio/miniconda3                    latest              b4adc22212f1        6 months ago        429MB
k8s.gcr.io/pause                          3.2                 80d28bedfe5d        7 months ago        683kB
</code></pre></li>

<li><p>Next we will create a yaml file using the <code>--dry-run=client</code> command line argument. This will help us avoid trying to search for the image elsewhere.</p>

<pre><code class="language-bash">kubectl create deployment recommend-minikube --image=prediction-service-k8s:latest -o yaml --dry-run=client
</code></pre></li>

<li><p>Save the output of that command into a file called <code>recommend-minikube.yaml</code>. Add the additional specification <code>imagePullPolicy: Never</code> to the containers section. Take note of indentation using spaces/tabs as this can lead to errors.</p>

<pre><code class="language-bash">apiVersion: apps/v1
kind: Deployment
metadata:
creationTimestamp: null
labels:
app: recommend-minikube
name: recommend-minikube
spec:
replicas: 1
selector:
matchLabels:
  app: recommend-minikube
strategy: {}
template:
metadata:
  creationTimestamp: null
  labels:
    app: recommend-minikube
spec:
  containers:
  - image: prediction-service-k8s:latest
    name: prediction-service-k8s
    resources: {}
    imagePullPolicy: Never
status: {}
</code></pre></li>

<li><p>Before the deploy the app, we can look at the cluster status using the following:</p>

<pre><code class="language-bash">(datasci-dev) ttmac:docker-prediction-service theja$ kubectl get all
NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
service/kubernetes   ClusterIP   10.96.0.1    &lt;none&gt;        443/TCP   24h
</code></pre></li>

<li><p>Run the following command to deploy the app:</p>

<pre><code class="language-bash">(datasci-dev) ttmac:docker-prediction-service theja$ kubectl apply -f recommend-minikube.yaml
deployment.apps/recommend-minikube created
</code></pre></li>

<li><p>Check the state of the cluster:</p>

<pre><code class="language-bash">(datasci-dev) ttmac:docker-prediction-service theja$ kubectl get pod
NAME                                  READY   STATUS    RESTARTS   AGE
recommend-minikube-5887d99b57-mqjfx   1/1     Running   0          2s
(datasci-dev) ttmac:docker-prediction-service theja$ kubectl get all
NAME                                      READY   STATUS    RESTARTS   AGE
pod/recommend-minikube-5887d99b57-mqjfx   1/1     Running   0          28s

NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
service/kubernetes   ClusterIP   10.96.0.1    &lt;none&gt;        443/TCP   24h

NAME                                 READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/recommend-minikube   1/1     1            1           28s

NAME                                            DESIRED   CURRENT   READY   AGE
replicaset.apps/recommend-minikube-5887d99b57   1         1         1       28s
</code></pre></li>

<li><p>Expose port 80 through a service.</p>

<pre><code class="language-bash">(datasci-dev) ttmac:docker-prediction-service theja$ kubectl expose deployment recommend-minikube --type=NodePort --port=80
service/recommend-minikube exposed
</code></pre></li>

<li><p>Get the URL to the app.</p>

<pre><code class="language-bash">(datasci-dev) ttmac:docker-prediction-service theja$ minikube service recommend-minikube --url
http://192.168.64.2:32683
</code></pre></li>

<li><p>Check the URL in the browser. When no uid is passed, we get a json back with a single key.</p></li>
</ul>

<p><img src="modelkube_deployed1.png" alt="modelkube_deployed1" /></p>

<ul>
<li>When we do pass a valid uid, we get the recommendations (pytorch inference happened on the server when the request was made) as shown below.</li>
</ul>

<p><img src="modelkube_deployed2.png" alt="modelkube_deployed2" /></p>

<ul>
<li><p>Next we can teardown the cluster using the following command:</p>

<pre><code class="language-bash">(datasci-dev) ttmac:docker-prediction-service theja$ kubectl delete -f recommend-minikube.yaml
deployment.apps &quot;recommend-minikube&quot; deleted
</code></pre></li>

<li><p>If you run the following command quickly, you can see the container getting terminated.</p>

<pre><code class="language-bash">(datasci-dev) ttmac:docker-prediction-service theja$ kubectl get pod
NAME                                  READY   STATUS        RESTARTS   AGE
recommend-minikube-5887d99b57-mqjfx   1/1     Terminating   0          9m40s
(datasci-dev) ttmac:docker-prediction-service theja$ kubectl get pod
No resources found in default namespace.
</code></pre></li>

<li><p>We also need to delete the NodePort service we had created.</p>

<pre><code class="language-bash">(datasci-dev) ttmac:docker-prediction-service theja$  kubectl delete services recommend-minikube
service &quot;recommend-minikube&quot; deleted
</code></pre></li>

<li><p>Next you can stop and even delete the minikube cluster. Below, we are just stopping it.</p>

<pre><code class="language-bash">(datasci-dev) ttmac:docker-prediction-service theja$ kubectl get all
NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
service/kubernetes   ClusterIP   10.96.0.1    &lt;none&gt;        443/TCP   24h
(datasci-dev) ttmac:docker-prediction-service theja$ minikube stop
‚úã  Stopping node &quot;minikube&quot;  ...
üõë  1 nodes stopped.
(datasci-dev) ttmac:docker-prediction-service theja$ kubectl get all
The connection to the server localhost:8080 was refused - did you specify the right host or port?
</code></pre></li>

<li><p>Congrats, you have deployed a container containing your model on a kubernetes cluster.</p></li>
</ul>


<footer class="footline">
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/MLOps/lecture4/kubernetes/" title="Kubernetes"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/MLOps/lecture4/gke/" title="Orchestration using GKE" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/MLOps/js/clipboard.min.js"></script>
    <script src="/MLOps/js/perfect-scrollbar.min.js"></script>
    <script src="/MLOps/js/perfect-scrollbar.jquery.min.js"></script>
    <script src="/MLOps/js/jquery.sticky.js"></script>
    <script src="/MLOps/js/featherlight.min.js"></script>
    <script src="/MLOps/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/MLOps/js/modernizr.custom-3.6.0.js"></script>
    <script src="/MLOps/js/learn.js"></script>
    <script src="/MLOps/js/hugo-learn.js"></script>

    <link href="/MLOps/mermaid/mermaid.css" rel="stylesheet" />
    <script src="/MLOps/mermaid/mermaid.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-156050402-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-156050402-2');
</script>




<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">

  MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
  });
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });

  MathJax.Hub.Config({
  
  TeX: { equationNumbers: { autoNumber: "AMS" } }
  });
</script>

  </body>
</html>

